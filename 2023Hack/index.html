<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>LABL</title>
</head>
<header>

</header>
<body>
    <div class="dropdown">
        <div class="select">
            <span class="selected">Fig</span>
            <div class="caret"></div>
        </div>
        <ul id="menu">
            <li class="active">fig</li>
        </ul>
    </div>
    <script async>
        const api_url = 'https://mocki.io/v1/6a2770cd-d4a4-43ef-b5e4-45c50d29ca45';
        muniList = [];
        async function getMuni(){
            const response = await fetch(api_url);
            const data = await response.json();
            for (let i = 0; i < data.length; i++){
                muniList.push(data[i].municipality)
            }
        console.log(muniList)
        return muniList
        }
        list = getMuni();

        const arrayToList = (arr,listId) =>
            (el => ( 
                (el = document.querySelector('#' + listId)),
                (el.innerHTML += arr.map(item => `<li> ${item} </li>`).join(''))
            ))();

        list.then(value => arrayToList(value.sort(), "menu"))
        //arrayToList(list,"menu");

    </script>

</body>
</html>